Table "users" {
  "id" UUID [pk]
  "name" VARCHAR(100) [not null]
  "email" VARCHAR(100) [unique, not null]
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "accounts" {
  "id" UUID [pk]
  "user_id" UUID [not null]
  "name" VARCHAR(100) [not null]
  "type" VARCHAR(50) [not null]
  "initial_balance" "NUMERIC(15, 2)" [not null]
  "currency" VARCHAR(10) [not null]
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "categories" {
  "id" UUID [pk]
  "name" VARCHAR(100) [not null]
  "color" VARCHAR(100) [not null]
  "icon" VARCHAR(100) [not null]
  "transaction_type" UUID [not null]
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "subcategories" {
  "id" UUID [pk]
  "name" VARCHAR(100) [not null]
  "category_id" UUID [not null]
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "transaction_statuses" {
  "id" UUID [pk]
  "name" VARCHAR(50) [not null]
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "cards" {
  "id" UUID [pk]
  "name" VARCHAR(100) [not null]
  "credit_limit" "NUMERIC(15, 2)" [not null]
  "account_id" UUID [not null]
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "invoices" {
  "id" UUID [pk]
  "card_id" UUID [not null]
  "billing_month" DATE [not null]
  "due_date" DATE [not null]
  "status" VARCHAR(50) [not null]
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "transfers" {
  "id" UUID [pk]
  "transfer_date" DATE [not null]
  "description" TEXT
  "amount" "NUMERIC(15, 2)" [not null]
  "source_account_id" UUID [not null]
  "destination_account_id" UUID [not null]
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "recurring_transactions" {
  "id" UUID [pk]
  "amount" "NUMERIC(15, 2)" [not null]
  "description" VARCHAR(50) [not null]
  "frequency" VARCHAR(50) [not null]
  "start_date" DATE [not null]
  "end_date" DATE
  "account_id" UUID [not null]
  "category_id" UUID [not null]
  "subcategory_id" UUID
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "investments" {
  "id" UUID [pk]
  "asset_name" VARCHAR(100) [not null]
  "type" VARCHAR(50) [not null]
  "account_id" UUID [not null]
  "index_type" VARCHAR(50)
  "index_value" VARCHAR(50)
  "liquidity" VARCHAR(50)
  "fl_rescued" BOOLEAN
  "validity" DATE
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "tags" {
  "id" UUID [pk]
  "name" VARCHAR(100) [not null]
  "color" VARCHAR(20)
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "recurring_transactions_tags" {
  "recurring_transactions_id" UUID [not null]
  "tag_id" UUID [not null]
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "incomes" {
  "id" UUID [pk]
  "transaction_date" DATE [not null]
  "description" TEXT
  "amount" "NUMERIC(15, 2)" [not null]
  "account_id" UUID [not null]
  "recurring_transaction_id" UUID
  "category_id" UUID [not null]
  "subcategory_id" UUID
  "transaction_status_id" UUID [not null]
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "expenses" {
  "id" UUID [pk]
  "transaction_date" DATE [not null]
  "description" TEXT
  "amount" "NUMERIC(15, 2)" [not null]
  "account_id" UUID [not null]
  "category_id" UUID [not null]
  "subcategory_id" UUID
  "transaction_status_id" UUID [not null]
  "recurring_transaction_id" UUID
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "expenses_card" {
  "id" UUID [pk]
  "transaction_date" DATE [not null]
  "description" TEXT
  "amount" "NUMERIC(15, 2)" [not null]
  "subcategory_id" UUID
  "category_id" UUID
  "recurring_transaction_id" UUID
  "invoice_id" UUID
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "chargeback_card" {
  "id" UUID [pk]
  "transaction_date" DATE [not null]
  "description" TEXT
  "amount" "NUMERIC(15, 2)" [not null]
  "invoice_id" UUID
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "payment_card" {
  "id" UUID [pk]
  "transaction_date" DATE [not null]
  "amount" "NUMERIC(15, 2)" [not null]
  "account_id" UUID [not null]
  "invoice_id" UUID
  "fl_finaly" BOOLEAN
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "investment_deposit" {
  "id" UUID [pk]
  "transaction_date" DATE [not null]
  "description" TEXT
  "amount" "NUMERIC(15, 2)" [not null]
  "recurring_transaction_id" UUID
  "investment_id" UUID
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "investment_withdrawal" {
  "id" UUID [pk]
  "transaction_date" DATE [not null]
  "description" TEXT
  "amount" "NUMERIC(15, 2)" [not null]
  "recurring_transaction_id" UUID
  "investment_id" UUID
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "incomes_tags" {
  "income_id" UUID [not null]
  "tag_id" UUID [not null]
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "expenses_tags" {
  "expense_id" UUID [not null]
  "tag_id" UUID [not null]
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "investments_tags" {
  "investment_id" UUID [not null]
  "tag_id" UUID [not null]
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "expense_card_tags" {
  "expense_card_id" UUID [not null]
  "tag_id" UUID [not null]
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Table "transactions_types" {
  "id" UUID [pk]
  "name" VARCHAR(50) [not null]
  "created_at" timestamp [default: `now()`]
  "updated_at" timestamp [default: `now()`]
}

Ref:"users"."id" < "accounts"."user_id"

Ref:"transactions_types"."id" < "categories"."transaction_type"

Ref:"categories"."id" < "subcategories"."category_id"

Ref:"accounts"."id" < "cards"."account_id"

Ref:"cards"."id" < "invoices"."card_id"

Ref:"accounts"."id" < "transfers"."source_account_id"

Ref:"accounts"."id" < "transfers"."destination_account_id"

Ref:"accounts"."id" < "recurring_transactions"."account_id"

Ref:"categories"."id" < "recurring_transactions"."category_id"

Ref:"subcategories"."id" < "recurring_transactions"."subcategory_id"

Ref:"accounts"."id" < "investments"."account_id"

Ref:"recurring_transactions"."id" < "recurring_transactions_tags"."recurring_transactions_id"

Ref:"tags"."id" < "recurring_transactions_tags"."tag_id"

Ref:"accounts"."id" < "incomes"."account_id"

Ref:"recurring_transactions"."id" < "incomes"."recurring_transaction_id"

Ref:"categories"."id" < "incomes"."category_id"

Ref:"subcategories"."id" < "incomes"."subcategory_id"

Ref:"transaction_statuses"."id" < "incomes"."transaction_status_id"

Ref:"accounts"."id" < "expenses"."account_id"

Ref:"categories"."id" < "expenses"."category_id"

Ref:"subcategories"."id" < "expenses"."subcategory_id"

Ref:"transaction_statuses"."id" < "expenses"."transaction_status_id"

Ref:"recurring_transactions"."id" < "expenses"."recurring_transaction_id"

Ref:"subcategories"."id" < "expenses_card"."subcategory_id"

Ref:"categories"."id" < "expenses_card"."category_id"

Ref:"recurring_transactions"."id" < "expenses_card"."recurring_transaction_id"

Ref:"invoices"."id" < "expenses_card"."invoice_id"

Ref:"invoices"."id" < "chargeback_card"."invoice_id"

Ref:"accounts"."id" < "payment_card"."account_id"

Ref:"invoices"."id" < "payment_card"."invoice_id"

Ref:"recurring_transactions"."id" < "investment_deposit"."recurring_transaction_id"

Ref:"investments"."id" < "investment_deposit"."investment_id"

Ref:"recurring_transactions"."id" < "investment_withdrawal"."recurring_transaction_id"

Ref:"investments"."id" < "investment_withdrawal"."investment_id"

Ref:"incomes"."id" < "incomes_tags"."income_id"

Ref:"tags"."id" < "incomes_tags"."tag_id"

Ref:"expenses"."id" < "expenses_tags"."expense_id"

Ref:"tags"."id" < "expenses_tags"."tag_id"

Ref:"investments"."id" < "investments_tags"."investment_id"

Ref:"tags"."id" < "investments_tags"."tag_id"

Ref:"expenses_card"."id" < "expense_card_tags"."expense_card_id"

Ref:"tags"."id" < "expense_card_tags"."tag_id"
