"use strict";(globalThis.webpackChunkgh_docs=globalThis.webpackChunkgh_docs||[]).push([[8843],{5617(e,s,n){n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"database/schema","title":"Schema do Banco de Dados","description":"Esta se\xe7\xe3o detalha a estrutura das tabelas do PostgreSQL.","source":"@site/docs/database/schema.md","sourceDirName":"database","slug":"/database/schema","permalink":"/fintrack/docs/database/schema","draft":false,"unlisted":false,"editUrl":"https://github.com/PHRaulino-Space/fintrack/tree/main/gh-docs/docs/database/schema.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Testes Backend","permalink":"/fintrack/docs/backend-guide/testing"},"next":{"title":"Migra\xe7\xf5es","permalink":"/fintrack/docs/database/migrations"}}');var c=n(4848),d=n(8453);const a={},r="Schema do Banco de Dados",l={},o=[{value:"Diagrama Visual",id:"diagrama-visual",level:2},{value:"Tabelas Principais",id:"tabelas-principais",level:2},{value:"<code>accounts</code>",id:"accounts",level:3},{value:"<code>transactions</code> (Conceitual)",id:"transactions-conceitual",level:3},{value:"<code>expenses</code>",id:"expenses",level:4},{value:"<code>categories</code>",id:"categories",level:3},{value:"<code>import_sessions</code>",id:"import_sessions",level:3},{value:"<code>category_embeddings</code>",id:"category_embeddings",level:3}];function t(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",ul:"ul",...(0,d.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.header,{children:(0,c.jsx)(s.h1,{id:"schema-do-banco-de-dados",children:"Schema do Banco de Dados"})}),"\n",(0,c.jsx)(s.p,{children:"Esta se\xe7\xe3o detalha a estrutura das tabelas do PostgreSQL."}),"\n",(0,c.jsx)(s.h2,{id:"diagrama-visual",children:"Diagrama Visual"}),"\n",(0,c.jsxs)(s.p,{children:["Consulte o ",(0,c.jsx)(s.a,{href:"/fintrack/docs/architecture/database",children:"Diagrama ER"})," na se\xe7\xe3o de Arquitetura."]}),"\n",(0,c.jsx)(s.h2,{id:"tabelas-principais",children:"Tabelas Principais"}),"\n",(0,c.jsx)(s.h3,{id:"accounts",children:(0,c.jsx)(s.code,{children:"accounts"})}),"\n",(0,c.jsx)(s.p,{children:"Armazena as contas financeiras."}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"id"})," (UUID, PK)"]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"workspace_id"})," (UUID, FK -> workspaces)"]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"name"})," (VARCHAR)"]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"type"})," (ENUM: CHECKING, SAVINGS, WALLET, INVESTMENT)"]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"initial_balance"})," (NUMERIC)"]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"currency_code"})," (VARCHAR, FK -> currencies)"]}),"\n"]}),"\n",(0,c.jsxs)(s.h3,{id:"transactions-conceitual",children:[(0,c.jsx)(s.code,{children:"transactions"})," (Conceitual)"]}),"\n",(0,c.jsxs)(s.p,{children:["Na pr\xe1tica, dividido em ",(0,c.jsx)(s.code,{children:"expenses"}),", ",(0,c.jsx)(s.code,{children:"incomes"}),", ",(0,c.jsx)(s.code,{children:"transfers"}),"."]}),"\n",(0,c.jsx)(s.h4,{id:"expenses",children:(0,c.jsx)(s.code,{children:"expenses"})}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"id"})," (UUID, PK)"]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"account_id"})," (UUID, FK -> accounts)"]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"category_id"})," (UUID, FK -> categories)"]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"amount"})," (NUMERIC) - Sempre positivo."]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"transaction_date"})," (DATE)"]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"description"})," (TEXT)"]}),"\n"]}),"\n",(0,c.jsx)(s.h3,{id:"categories",children:(0,c.jsx)(s.code,{children:"categories"})}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"id"})," (UUID, PK)"]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"workspace_id"})," (UUID, FK)"]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"name"})," (VARCHAR)"]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"type"})," (ENUM: INCOME, EXPENSE)"]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"icon"})," (VARCHAR)"]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"color"})," (VARCHAR)"]}),"\n"]}),"\n",(0,c.jsx)(s.h3,{id:"import_sessions",children:(0,c.jsx)(s.code,{children:"import_sessions"})}),"\n",(0,c.jsx)(s.p,{children:"Gerencia o estado das importa\xe7\xf5es."}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"id"})," (UUID, PK)"]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"account_id"})," (UUID, FK)"]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"status"})," (VARCHAR) - ex: PROCESSING, READY, COMMITTED."]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"created_at"})," (TIMESTAMP)"]}),"\n"]}),"\n",(0,c.jsx)(s.h3,{id:"category_embeddings",children:(0,c.jsx)(s.code,{children:"category_embeddings"})}),"\n",(0,c.jsx)(s.p,{children:"Tabela especial para o servi\xe7o de IA (pgvector)."}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"id"})," (UUID, PK)"]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"category_id"})," (UUID, FK)"]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"description_text"})," (TEXT) - A descri\xe7\xe3o original da transa\xe7\xe3o."]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"embedding"})," (VECTOR) - Representa\xe7\xe3o vetorial do texto."]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,c.jsx)(s,{...e,children:(0,c.jsx)(t,{...e})}):t(e)}},8453(e,s,n){n.d(s,{R:()=>a,x:()=>r});var i=n(6540);const c={},d=i.createContext(c);function a(e){const s=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:a(e.components),i.createElement(d.Provider,{value:s},e.children)}}}]);