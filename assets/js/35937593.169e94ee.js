"use strict";(globalThis.webpackChunkgh_docs=globalThis.webpackChunkgh_docs||[]).push([[9451],{6840(e,r,s){s.r(r),s.d(r,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>t,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"backend-guide/services","title":"Services (Use Cases)","description":"Os Services cont\xeam a l\xf3gica de neg\xf3cio \\"pura\\". Eles orquestram chamadas aos reposit\xf3rios e validam regras de dom\xednio.","source":"@site/docs/backend-guide/services.md","sourceDirName":"backend-guide","slug":"/backend-guide/services","permalink":"/phrs-fintrack-docs/docs/backend-guide/services","draft":false,"unlisted":false,"editUrl":"https://github.com/PHRaulino-Space/fintrack-docs/tree/main/gh-docs/docs/backend-guide/services.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Controllers (Handlers)","permalink":"/phrs-fintrack-docs/docs/backend-guide/controllers"},"next":{"title":"Repositories","permalink":"/phrs-fintrack-docs/docs/backend-guide/repositories"}}');var a=s(4848),o=s(8453);const t={},i="Services (Use Cases)",c={},d=[{value:"Exemplo: Criar Transa\xe7\xe3o",id:"exemplo-criar-transa\xe7\xe3o",level:2}];function l(e){const r={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.header,{children:(0,a.jsx)(r.h1,{id:"services-use-cases",children:"Services (Use Cases)"})}),"\n",(0,a.jsx)(r.p,{children:'Os Services cont\xeam a l\xf3gica de neg\xf3cio "pura". Eles orquestram chamadas aos reposit\xf3rios e validam regras de dom\xednio.'}),"\n",(0,a.jsx)(r.h2,{id:"exemplo-criar-transa\xe7\xe3o",children:"Exemplo: Criar Transa\xe7\xe3o"}),"\n",(0,a.jsx)(r.p,{children:"Ao criar uma transa\xe7\xe3o, o service pode precisar:"}),"\n",(0,a.jsxs)(r.ol,{children:["\n",(0,a.jsx)(r.li,{children:"Verificar se a conta existe."}),"\n",(0,a.jsx)(r.li,{children:"Verificar se a categoria \xe9 v\xe1lida."}),"\n",(0,a.jsx)(r.li,{children:"Salvar a transa\xe7\xe3o."}),"\n",(0,a.jsx)(r.li,{children:"Atualizar o saldo da conta (se n\xe3o for calculado on-the-fly)."}),"\n"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-go",children:"func (uc *TransactionUseCase) Create(ctx context.Context, t *entity.Transaction) error {\n    // Regra de Neg\xf3cio: N\xe3o permitir transa\xe7\xe3o futura se configurado\n    if t.Date.After(time.Now()) && !uc.allowFuture {\n        return ErrFutureTransactionNotAllowed\n    }\n\n    // Persist\xeancia\n    return uc.repo.Create(ctx, t)\n}\n"})})]})}function u(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453(e,r,s){s.d(r,{R:()=>t,x:()=>i});var n=s(6540);const a={},o=n.createContext(a);function t(e){const r=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),n.createElement(o.Provider,{value:r},e.children)}}}]);