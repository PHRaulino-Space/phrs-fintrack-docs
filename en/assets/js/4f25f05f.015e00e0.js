"use strict";(globalThis.webpackChunkgh_docs=globalThis.webpackChunkgh_docs||[]).push([[4785],{4933(e,s,n){n.r(s),n.d(s,{assets:()=>r,contentTitle:()=>d,default:()=>u,frontMatter:()=>t,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"backend-guide/seeds","title":"Seeds e base sint\xe9tica","description":"Template default de categorias","source":"@site/docs/backend-guide/seeds.md","sourceDirName":"backend-guide","slug":"/backend-guide/seeds","permalink":"/phrs-fintrack-docs/en/docs/backend-guide/seeds","draft":false,"unlisted":false,"editUrl":"https://github.com/PHRaulino-Space/fintrack-docs/tree/main/gh-docs/docs/backend-guide/seeds.md","tags":[],"version":"current","frontMatter":{}}');var o=n(4848),i=n(8453);const t={},d="Seeds e base sint\xe9tica",r={},c=[{value:"Template default de categorias",id:"template-default-de-categorias",level:2},{value:"Base sint\xe9tica de treinamento",id:"base-sint\xe9tica-de-treinamento",level:2},{value:"Casos de uso",id:"casos-de-uso",level:2}];function l(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.header,{children:(0,o.jsx)(s.h1,{id:"seeds-e-base-sint\xe9tica",children:"Seeds e base sint\xe9tica"})}),"\n",(0,o.jsx)(s.h2,{id:"template-default-de-categorias",children:"Template default de categorias"}),"\n",(0,o.jsxs)(s.p,{children:["O FinTrack oferece um endpoint ",(0,o.jsx)(s.strong,{children:"administrativo"})," que aplica o template padr\xe3o de categorias e subcategorias em um workspace sem depender de dados reais:"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:'curl -X POST \\\n  -H "Authorization: Bearer <admin-token>" \\\n  https://<host>/api/v1/workspaces/<workspaceId>/seeds/categories-default\n'})}),"\n",(0,o.jsxs)(s.p,{children:["O handler \xe9 protegido pelo middleware de ",(0,o.jsx)(s.code,{children:"Admin"})," e retorna algo como:"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-json",children:'{\n  "categories_created": 14,\n  "sub_categories_created": 40\n}\n'})}),"\n",(0,o.jsx)(s.p,{children:"Voc\xea pode chamar o endpoint quantas vezes quiser: ele \xe9 idempotente e n\xe3o recria registros j\xe1 existentes."}),"\n",(0,o.jsx)(s.h2,{id:"base-sint\xe9tica-de-treinamento",children:"Base sint\xe9tica de treinamento"}),"\n",(0,o.jsxs)(s.p,{children:["Para alimentar ",(0,o.jsx)(s.code,{children:"category_embeddings"})," com descri\xe7\xf5es simuladas, use o endpoint:"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:'curl -X POST \\\n  -H "Authorization: Bearer <admin-token>" \\\n  "https://<host>/api/v1/workspaces/<workspaceId>/seeds/training-synthetic?count=2000&model=default"\n'})}),"\n",(0,o.jsx)(s.p,{children:"Par\xe2metros:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"count"})," (opcional): n\xfamero de exemplos a gerar (default 2000)."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"model"})," (opcional): nome do modelo de embedding (default ",(0,o.jsx)(s.code,{children:"default"}),")."]}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:"A resposta informa quantos registros foram criados e quantos j\xe1 existiam:"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-json",children:'{\n  "created": 2000,\n  "ignored": 0,\n  "duration_ms": 3200\n}\n'})}),"\n",(0,o.jsxs)(s.p,{children:["A rotina gera descri\xe7\xf5es normalizadas (maiusculas, sem acentos, remove c\xf3digos longos), assegura equil\xedbrio entre subcategorias e trata ",(0,o.jsx)(s.code,{children:"card_expense"})," como um ",(0,o.jsx)(s.code,{children:"EXPENSE"})," comum (ou seja, o meio de pagamento muda, mas a classifica\xe7\xe3o permanece na taxonomia padr\xe3o). Os vetores s\xe3o calculados via servi\xe7o de embeddings e gravados em ",(0,o.jsx)(s.code,{children:"category_embeddings"})," junto com o nome da categoria e subcategoria."]}),"\n",(0,o.jsx)(s.h2,{id:"casos-de-uso",children:"Casos de uso"}),"\n",(0,o.jsxs)(s.ol,{children:["\n",(0,o.jsx)(s.li,{children:"Execute o endpoint de categorias antes de qualquer importa\xe7\xe3o para garantir que o workspace tenha o mesmo vocabul\xe1rio padr\xe3o das bases sint\xe9ticas."}),"\n",(0,o.jsx)(s.li,{children:"Use o endpoint sint\xe9tico sempre que quiser reabastecer os embeddings (por exemplo, ao inicializar um ambiente de teste, treinamento local ou container isolado)."}),"\n",(0,o.jsxs)(s.li,{children:["Ambos os endpoints exigem perfil ",(0,o.jsx)(s.strong,{children:"admin"})," e devem ser usados com tokens seguros."]}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453(e,s,n){n.d(s,{R:()=>t,x:()=>d});var a=n(6540);const o={},i=a.createContext(o);function t(e){const s=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),a.createElement(i.Provider,{value:s},e.children)}}}]);