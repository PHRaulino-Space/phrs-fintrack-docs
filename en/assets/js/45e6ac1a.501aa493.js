"use strict";(globalThis.webpackChunkgh_docs=globalThis.webpackChunkgh_docs||[]).push([[8377],{1797(e,n,t){t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"backend-guide/controller-example","title":"controller-example","description":"","source":"@site/docs/backend-guide/controller-example.md","sourceDirName":"backend-guide","slug":"/backend-guide/controller-example","permalink":"/fintrack/en/docs/backend-guide/controller-example","draft":false,"unlisted":false,"editUrl":"https://github.com/PHRaulino-Space/fintrack/tree/main/gh-docs/docs/backend-guide/controller-example.md","tags":[],"version":"current","frontMatter":{}}');var o=t(4848),c=t(8453);const a={},s=void 0,i={},u=[];function l(e){const n={code:"code",pre:"pre",...(0,c.R)(),...e.components};return(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-go",children:'package v1\n\nimport (\n\t"net/http"\n\t"github.com/gin-gonic/gin"\n\t"github.com/phraulino/fintrack/internal/entity"\n)\n\n// Exemplo real de um Controller (Handler) no backend\n\nfunc (r *accountRoutes) create(c *gin.Context) {\n    var request entity.Account\n\n    // 1. Bind JSON do corpo da requisi\xe7\xe3o para a struct\n    if err := c.ShouldBindJSON(&request); err != nil {\n        r.l.Error(err, "http - v1 - createAccount")\n        errorResponse(c, http.StatusBadRequest, "invalid request body")\n        return\n    }\n\n    // 2. Chama o UseCase (Regra de Neg\xf3cio)\n    // O Contexto \xe9 passado para permitir cancelamento e tracing\n    account, err := r.u.Create(c.Request.Context(), request)\n    if err != nil {\n        r.l.Error(err, "http - v1 - createAccount")\n        errorResponse(c, http.StatusInternalServerError, "database problem")\n        return\n    }\n\n    // 3. Retorna 201 Created com o objeto criado\n    c.JSON(http.StatusCreated, account)\n}\n'})})}function d(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453(e,n,t){t.d(n,{R:()=>a,x:()=>s});var r=t(6540);const o={},c=r.createContext(o);function a(e){const n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);